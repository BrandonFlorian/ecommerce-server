{
  "info": {
    "_postman_id": "b51d0e8f-76a6-4c4e-a4b7-94a41e2d5b8a",
    "name": "E-Commerce API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}/health",
          "host": ["{{base_url}}"],
          "path": ["health"]
        }
      },
      "response": []
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"Password123\",\n  \"first_name\": \"Test\",\n  \"last_name\": \"User\",\n  \"phone\": \"+1234567890\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.token) {",
                  "    pm.environment.set(\"token\", jsonData.data.token);",
                  "    // Store the cookie for later use",
                  "    const cookieJar = pm.cookies.jar();",
                  "    cookieJar.set(pm.request.url, 'authToken', jsonData.data.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"Password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.token) {",
                  "    pm.environment.set(\"token\", jsonData.data.token);",
                  "    // Store the cookie for later use - same as in login script",
                  "    const cookieJar = pm.cookies.jar();",
                  "    cookieJar.set(pm.request.url.toString(), 'authToken', jsonData.data.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/refresh-token",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "refresh-token"]
            }
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/logout",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "logout"]
            }
          },
          "response": []
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/forgot-password",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "forgot-password"]
            }
          },
          "response": []
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"your-password-reset-token\",\n  \"password\": \"NewPassword123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/reset-password",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "reset-password"]
            }
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "me"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "Get All Products",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "sort_by",
                  "value": "created_at",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "desc",
                  "disabled": true
                },
                {
                  "key": "query",
                  "value": "search term",
                  "disabled": true
                },
                {
                  "key": "category_id",
                  "value": "some-uuid",
                  "disabled": true
                },
                {
                  "key": "min_price",
                  "value": "10",
                  "disabled": true
                },
                {
                  "key": "max_price",
                  "value": "100",
                  "disabled": true
                },
                {
                  "key": "in_stock",
                  "value": "true",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search Products",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products/search?q=bath%20salts",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "bath salts"
                },
                {
                  "key": "page",
                  "value": "1",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "10",
                  "disabled": true
                },
                {
                  "key": "sort_by",
                  "value": "created_at",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "desc",
                  "disabled": true
                },
                {
                  "key": "min_price",
                  "value": "10",
                  "disabled": true
                },
                {
                  "key": "max_price",
                  "value": "100",
                  "disabled": true
                },
                {
                  "key": "in_stock",
                  "value": "true",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Product By ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "products", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "product-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Product (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Japanese Bath Salts\",\n  \"description\": \"Authentic bath salts from Japan\",\n  \"price\": 14.99,\n  \"compare_at_price\": 19.99,\n  \"cost_price\": 7.50,\n  \"sku\": \"JBS-001\",\n  \"barcode\": \"123456789\",\n  \"weight\": 250,\n  \"dimensions\": {\n    \"length\": 10,\n    \"width\": 5,\n    \"height\": 2\n  },\n  \"inventory_quantity\": 100,\n  \"is_active\": true,\n  \"category_id\": \"category-id-here\",\n  \"images\": [\n    {\n      \"url\": \"https://example.com/image1.jpg\",\n      \"alt_text\": \"Japanese Bath Salts Front\",\n      \"position\": 1,\n      \"is_primary\": true\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/products",
              "host": ["{{base_url}}"],
              "path": ["api", "products"]
            }
          },
          "response": []
        },
        {
          "name": "Update Product (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Premium Japanese Bath Salts\",\n  \"price\": 16.99,\n  \"inventory_quantity\": 95\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/products/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "products", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "product-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Product (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/products/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "products", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "product-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Categories",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products/categories",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "categories"]
            }
          },
          "response": []
        },
        {
          "name": "Get Category By ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products/categories/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "categories", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "category-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Products By Category",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products/categories/:id/products",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "categories", ":id", "products"],
              "variable": [
                {
                  "key": "id",
                  "value": "category-id-here"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Cart",
      "item": [
        {
          "name": "Get Cart",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/cart",
              "host": ["{{base_url}}"],
              "path": ["api", "cart"]
            },
            "description": "Get cart for authenticated user or guest (based on cookie)"
          },
          "response": []
        },
        {
          "name": "Add Item to Cart",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "disabled": true
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": \"product-id-here\",\n  \"quantity\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cart/items",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "items"]
            }
          },
          "response": []
        },
        {
          "name": "Update Cart Item",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "disabled": true
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 3\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cart/items/:itemId",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "items", ":itemId"],
              "variable": [
                {
                  "key": "itemId",
                  "value": "cart-item-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Remove Cart Item",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/cart/items/:itemId",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "items", ":itemId"],
              "variable": [
                {
                  "key": "itemId",
                  "value": "cart-item-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Clear Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/cart",
              "host": ["{{base_url}}"],
              "path": ["api", "cart"]
            }
          },
          "response": []
        },
        {
          "name": "Merge Session Cart",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cartItems\": [\n    {\n      \"product_id\": \"product-id-1\",\n      \"quantity\": 2\n    },\n    {\n      \"product_id\": \"product-id-2\",\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cart/merge",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "merge"]
            },
            "description": "Merge session cart items into user cart after login"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Shipping",
      "item": [
        {
          "name": "Calculate Shipping Rates",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text",
                "disabled": true
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address_id\": \"address-id-here\",\n  \"cart_id\": \"cart-id-here\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/shipping/calculate",
              "host": ["{{base_url}}"],
              "path": ["api", "shipping", "calculate"]
            }
          },
          "response": []
        },
        {
          "name": "Validate Address",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address_line1\": \"123 Main St\",\n  \"address_line2\": \"Apt 4B\",\n  \"city\": \"New York\",\n  \"state\": \"NY\",\n  \"postal_code\": \"10001\",\n  \"country\": \"US\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/shipping/validate-address",
              "host": ["{{base_url}}"],
              "path": ["api", "shipping", "validate-address"]
            }
          },
          "response": []
        },
        {
          "name": "Track Shipment",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/shipping/tracking/:trackingNumber",
              "host": ["{{base_url}}"],
              "path": ["api", "shipping", "tracking", ":trackingNumber"],
              "variable": [
                {
                  "key": "trackingNumber",
                  "value": "tracking-number-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Shipping Label (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Handle with care\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/shipping/orders/:orderId/create-label",
              "host": ["{{base_url}}"],
              "path": ["api", "shipping", "orders", ":orderId", "create-label"],
              "variable": [
                {
                  "key": "orderId",
                  "value": "order-id-here"
                }
              ]
            },
            "description": "Create shipping label for an order using the stored shipping rate"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Payment",
      "item": [
        {
          "name": "Create Payment Intent",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cart_id\": \"cart-id-here\",\n  \"shipping_address_id\": \"address-id-here\",\n  \"billing_address_id\": \"address-id-here\",\n  \"shipping_method\": \"standard\",\n  \"shipping_rate_id\": \"rate-id-from-shipping-calculation\",\n  \"customer_id\": \"stripe-customer-id-optional\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment/create-payment-intent",
              "host": ["{{base_url}}"],
              "path": ["api", "payment", "create-payment-intent"]
            }
          },
          "response": []
        },
        {
          "name": "Check Payment Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/payment/payment-status/:paymentIntentId",
              "host": ["{{base_url}}"],
              "path": ["api", "payment", "payment-status", ":paymentIntentId"],
              "variable": [
                {
                  "key": "paymentIntentId",
                  "value": "payment-intent-id-here"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Get My Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/my-orders?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "my-orders"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "paid",
                  "disabled": true
                },
                {
                  "key": "sort_by",
                  "value": "created_at",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "desc",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "2024-01-01",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "2024-12-31",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Order Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/my-orders/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "my-orders", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "order-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/my-orders/:id/cancel",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "my-orders", ":id", "cancel"],
              "variable": [
                {
                  "key": "id",
                  "value": "order-id-here"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "User",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/me",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "me"]
            }
          },
          "response": []
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"first_name\": \"Updated\",\n  \"last_name\": \"Name\",\n  \"phone\": \"+1987654321\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/users/me",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "me"]
            }
          },
          "response": []
        },
        {
          "name": "Get Addresses",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/me/addresses",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "me", "addresses"]
            }
          },
          "response": []
        },
        {
          "name": "Add Address",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Home\",\n  \"address_line1\": \"123 Main St\",\n  \"address_line2\": \"Apt 4B\",\n  \"city\": \"New York\",\n  \"state\": \"NY\",\n  \"postal_code\": \"10001\",\n  \"country\": \"US\",\n  \"is_default\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/users/me/addresses",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "me", "addresses"]
            }
          },
          "response": []
        },
        {
          "name": "Update Address",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Home\",\n  \"address_line1\": \"456 Main St\",\n  \"city\": \"Brooklyn\",\n  \"state\": \"NY\",\n  \"postal_code\": \"11201\",\n  \"country\": \"US\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/users/me/addresses/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "me", "addresses", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "address-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Address",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/me/addresses/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "me", "addresses", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "address-id-here"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/admin/users?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "admin", "users"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get User Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/admin/users/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "admin", "users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "user-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get All Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/admin/orders?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "admin", "orders"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "paid",
                  "disabled": true
                },
                {
                  "key": "sort_by",
                  "value": "created_at",
                  "disabled": true
                },
                {
                  "key": "sort_order",
                  "value": "desc",
                  "disabled": true
                },
                {
                  "key": "start_date",
                  "value": "2024-01-01",
                  "disabled": true
                },
                {
                  "key": "end_date",
                  "value": "2024-12-31",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Order Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/admin/orders/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "admin", "orders", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "order-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Order Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"shipped\",\n  \"tracking_number\": \"1Z9999999999999999\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/admin/orders/:id/status",
              "host": ["{{base_url}}"],
              "path": ["api", "admin", "orders", ":id", "status"],
              "variable": [
                {
                  "key": "id",
                  "value": "order-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/admin/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "admin", "dashboard"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Webhook Testing",
      "item": [
        {
          "name": "Simulate Payment Success",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "stripe-signature",
                "value": "test_signature",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"evt_test_webhook\",\n  \"object\": \"event\",\n  \"type\": \"payment_intent.succeeded\",\n  \"data\": {\n    \"object\": {\n      \"id\": \"pi_test123\",\n      \"amount\": 1999,\n      \"metadata\": {\n        \"cart_id\": \"cart-id-here\",\n        \"shipping_address_id\": \"address-id-here\",\n        \"billing_address_id\": \"address-id-here\",\n        \"shipping_method\": \"standard\",\n        \"shipping_rate_id\": \"rate-id-here\",\n        \"user_id\": \"user-id-here\"\n      }\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment/webhook",
              "host": ["{{base_url}}"],
              "path": ["api", "payment", "webhook"]
            },
            "description": "Note: This is for testing only. In a real environment, the Stripe CLI or Stripe's webhook simulation should be used."
          },
          "response": []
        },
        {
          "name": "Simulate Charge Success",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "stripe-signature",
                "value": "test_signature",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"evt_test_webhook\",\n  \"object\": \"event\",\n  \"type\": \"charge.succeeded\",\n  \"data\": {\n    \"object\": {\n      \"id\": \"ch_test123\",\n      \"payment_intent\": \"pi_test123\",\n      \"receipt_url\": \"https://pay.stripe.com/receipts/test_receipt\",\n      \"payment_method_details\": {\n        \"card\": {\n          \"brand\": \"visa\",\n          \"last4\": \"4242\",\n          \"exp_month\": 12,\n          \"exp_year\": 2024\n        },\n        \"type\": \"card\"\n      }\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment/webhook",
              "host": ["{{base_url}}"],
              "path": ["api", "payment", "webhook"]
            },
            "description": "Note: This is for testing only. In a real environment, the Stripe CLI or Stripe's webhook simulation should be used."
          },
          "response": []
        },
        {
          "name": "Simulate Payment Failed",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "stripe-signature",
                "value": "test_signature",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"evt_test_webhook\",\n  \"object\": \"event\",\n  \"type\": \"payment_intent.payment_failed\",\n  \"data\": {\n    \"object\": {\n      \"id\": \"pi_test456\",\n      \"last_payment_error\": {\n        \"message\": \"Your card was declined.\",\n        \"code\": \"card_declined\"\n      }\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment/webhook",
              "host": ["{{base_url}}"],
              "path": ["api", "payment", "webhook"]
            },
            "description": "Note: This is for testing only. In a real environment, the Stripe CLI or Stripe's webhook simulation should be used."
          },
          "response": []
        },
        {
          "name": "Simulate Refund",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "stripe-signature",
                "value": "test_signature",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"evt_test_webhook\",\n  \"object\": \"event\",\n  \"type\": \"charge.refunded\",\n  \"data\": {\n    \"object\": {\n      \"id\": \"ch_test123\",\n      \"payment_intent\": \"pi_test123\",\n      \"amount\": 1999,\n      \"amount_refunded\": 1999,\n      \"refunded\": true\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment/webhook",
              "host": ["{{base_url}}"],
              "path": ["api", "payment", "webhook"]
            },
            "description": "Note: This is for testing only. In a real environment, the Stripe CLI or Stripe's webhook simulation should be used."
          },
          "response": []
        },
        {
          "name": "Simulate Dispute Created",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "stripe-signature",
                "value": "test_signature",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"evt_test_webhook\",\n  \"object\": \"event\",\n  \"type\": \"charge.dispute.created\",\n  \"data\": {\n    \"object\": {\n      \"id\": \"dp_test123\",\n      \"charge\": \"ch_test123\",\n      \"status\": \"needs_response\",\n      \"reason\": \"product_not_received\",\n      \"created\": 1646237352,\n      \"evidence\": {}\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment/webhook",
              "host": ["{{base_url}}"],
              "path": ["api", "payment", "webhook"]
            },
            "description": "Note: This is for testing only. In a real environment, the Stripe CLI or Stripe's webhook simulation should be used."
          },
          "response": []
        },
        {
          "name": "Simulate Fraud Warning",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "stripe-signature",
                "value": "test_signature",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"evt_test_webhook\",\n  \"object\": \"event\",\n  \"type\": \"radar.early_fraud_warning.created\",\n  \"data\": {\n    \"object\": {\n      \"id\": \"issfr_test123\",\n      \"charge\": \"ch_test123\",\n      \"fraud_type\": \"card_never_received\",\n      \"actionable\": true,\n      \"created\": 1646237352\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payment/webhook",
              "host": ["{{base_url}}"],
              "path": ["api", "payment", "webhook"]
            },
            "description": "Note: This is for testing only. In a real environment, the Stripe CLI or Stripe's webhook simulation should be used."
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3001",
      "type": "string"
    }
  ]
} 